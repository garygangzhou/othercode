@model DomainModel.Entities.Product

@{
    ViewBag.Title = "Edit " + Model.Name ;
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h1>Edit @Model.Name</h1>
    @using (Html.BeginForm("Edit", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" })) { 
        @Html.Hidden("ProductID")
        <p>        
            Name: @Html.TextBox("Name")
            <div>@Html.ValidationMessage("Name")</div>
        </p>
        <p>
            Description: @Html.TextArea("Description", null, 4, 20, null)
            <div>@Html.ValidationMessage("Description")</div>
        </p>
        <p>
            Price: @Html.TextBox("Price")
            <div>@Html.ValidationMessage("Price")</div>
        </p>
        <p>
            Category: @Html.TextBox("Category")
            <div>@Html.ValidationMessage("Category")</div>
        </p>
        <p>
            Image:
            @if (Model.ImageData == null) {
                @Html.Encode("None")
            }
            else {
                <img src="@Url.Action("GetImage", "Products", new { Model.ProductID })"  />
            }
            <div>Upload new image: <input type="file" name="Image" /></div>
        </p>
        <input type = "submit" value = "Save" />  
        @Html.ActionLink("Cancel and return to List", "Index")
    } 

